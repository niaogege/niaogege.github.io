<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1,user-scalable=no"><meta name="renderer" content="webkit"><meta name="color-scheme" content="dark light"><meta name="author" content="Niaogege"><meta name="description" content="记录生活 记录点滴"><meta name="keywords" content="record blog my"><title>centos安装mysql@5.7.40</title><link rel="icon" type="image/x-icon" href="/images/favicon.ico"><link rel="stylesheet" href="//at.alicdn.com/t/font_3242539_utq6ykfq7z.css"><link rel="stylesheet" light-src="https://cdn.staticfile.org/highlight.js/11.5.0/styles/default.min.css" dark-src="https://cdn.staticfile.org/highlight.js/11.5.0/styles/tokyo-night-dark.min.css"><link rel="stylesheet" href="https://fonts.font.im/css?family=Noto+Serif" as="font"><link href="/style/index.css" rel="stylesheet"><meta name="generator" content="Hexo 6.3.0"></head><body><header class="page-header"><nav><ul class="router-list"><li class="nav-item"> <a href="/">主页</a></li><li class="nav-item"> <a href="/archives/">归档</a></li><li class="nav-item"> <a href="https://bythewayer.com/learn/">学习</a></li><li class="nav-item"> <a href="https://bythewayer.com/love/">笔记</a></li></ul><div class="mode-switch"><span class="iconfont icon-DarkTheme"></span></div></nav></header><main><section class="main-content"><section class="post-page"><div class="title-bar"><h1>centos安装mysql@5.7.40</h1><div class="post-info"><span>2022-12-29 15:14:51</span><span class="tags"><a href="/tags/mysql/">#mysql</a></span></div></div><div class="feature-img"><img src="https://www.bythewayer.com/img/mysql1.webp" alt="feature-img"/></div><article> <div class="content"><blockquote>
<p>根据网上的<a target="_blank" rel="noopener" href="https://juejin.cn/post/6845166890755555341#heading-12">一篇文章</a>修改而来，检验过了，安装过程丝滑顺利</p>
</blockquote>
<h3 id="1-下载-MySql-yum-包"><a href="#1-下载-MySql-yum-包" class="headerlink" title="1.下载 MySql yum 包"></a>1.下载 MySql yum 包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://repo.mysql.com/mysql57-community-release-el7-10.noarch.rpm</span><br></pre></td></tr></table></figure>

<h3 id="2-安装-MySQL-源"><a href="#2-安装-MySQL-源" class="headerlink" title="2.安装 MySQL 源"></a>2.安装 MySQL 源</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh mysql57-community-release-el7-10.noarch.rpm</span><br></pre></td></tr></table></figure>

<h3 id="3-安装-MySQL-服务端"><a href="#3-安装-MySQL-服务端" class="headerlink" title="3.安装 MySQL 服务端"></a>3.安装 MySQL 服务端</h3><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" 
  class="img-loading" data-original="https://www.bythewayer.com/img/mysql-v.webp"" alt="mysql-v"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install mysql-community-server --nogpgcheck</span><br></pre></td></tr></table></figure>

<h3 id="4-启动-mySql"><a href="#4-启动-mySql" class="headerlink" title="4.启动 mySql"></a>4.启动 mySql</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mysqld.service</span><br></pre></td></tr></table></figure>

<h3 id="5-检查是否启动成功"><a href="#5-检查是否启动成功" class="headerlink" title="5.检查是否启动成功"></a>5.检查是否启动成功</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status mysqld.service</span><br></pre></td></tr></table></figure>

<h3 id="6-获取临时密码"><a href="#6-获取临时密码" class="headerlink" title="6.获取临时密码"></a>6.获取临时密码</h3><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" 
  class="img-loading" data-original="https://www.bythewayer.com/img/mysql_password.webp"" alt="mysql_password"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;temporary password&#x27;</span> /var/log/mysqld.log</span><br></pre></td></tr></table></figure>

<h3 id="7-通过临时密码登录-MySQL，进行修改密码操作"><a href="#7-通过临时密码登录-MySQL，进行修改密码操作" class="headerlink" title="7.通过临时密码登录 MySQL，进行修改密码操作"></a>7.通过临时密码登录 MySQL，进行修改密码操作</h3><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" 
  class="img-loading" data-original="https://www.bythewayer.com/img/mysql_login.webp"" alt="mysql_login"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure>

<p>输入密码的时候 把临时密码输进入，即可成功登录 mysql</p>
<blockquote>
<p>设置完密码之后后续阔以 mysql -uroot -p123456，直接把密码带在-p 后面，这样就可以一行实现登陆</p>
</blockquote>
<h3 id="8-全局修改-mysql-密码"><a href="#8-全局修改-mysql-密码" class="headerlink" title="8.全局修改 mysql 密码"></a>8.全局修改 mysql 密码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; <span class="built_in">set</span> global validate_password_policy=0;</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="built_in">set</span> global validate_password_length=1;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置你想要的密码 记得存储好</span></span><br><span class="line">ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;yourpassword&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="9-授权其他机器远程登录"><a href="#9-授权其他机器远程登录" class="headerlink" title="9.授权其他机器远程登录"></a>9.授权其他机器远程登录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; GRANT ALL PRIVILEGES ON . TO <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED BY <span class="string">&#x27;yourpassword&#x27;</span> WITH GRANT OPTION;</span><br><span class="line"></span><br><span class="line">mysql&gt; FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>

<h3 id="10-开启开机自启动"><a href="#10-开启开机自启动" class="headerlink" title="10.开启开机自启动"></a>10.开启开机自启动</h3><p>需要先退出当前 mysql,在执行以下命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> mysqld</span><br><span class="line"></span><br><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure>

<h3 id="11-设置-MySQL-的字符集为-UTF-8，令其支持中文"><a href="#11-设置-MySQL-的字符集为-UTF-8，令其支持中文" class="headerlink" title="11.设置 MySQL 的字符集为 UTF-8，令其支持中文"></a>11.设置 MySQL 的字符集为 UTF-8，令其支持中文</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">datadir=/var/lib/mysql</span><br><span class="line">socket=/var/lib/mysql/mysql.sock</span><br><span class="line">default-storage-engine=INNODB</span><br><span class="line">character_set_server=utf8</span><br><span class="line"></span><br><span class="line"><span class="comment"># Disabling symbolic-links is recommended to prevent assorted security risks</span></span><br><span class="line">symbolic-links=0</span><br><span class="line"></span><br><span class="line">log-error=/var/log/mysqld.log</span><br><span class="line">pid-file=/var/run/mysqld/mysqld.pid</span><br></pre></td></tr></table></figure>

<h3 id="12-重启一下-MySQL-令配置生效"><a href="#12-重启一下-MySQL-令配置生效" class="headerlink" title="12.重启一下 MySQL,令配置生效"></a>12.重启一下 MySQL,令配置生效</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld restart</span><br></pre></td></tr></table></figure>

<h3 id="13-防火墙开放-3306-端口"><a href="#13-防火墙开放-3306-端口" class="headerlink" title="13.防火墙开放 3306 端口"></a>13.防火墙开放 3306 端口</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mysql开放3306端口</span></span><br><span class="line">firewall-cmd --zone=public --add-port=3306/tcp --permanent</span><br></pre></td></tr></table></figure>

<h3 id="14-mysql-常用命令"><a href="#14-mysql-常用命令" class="headerlink" title="14.mysql 常用命令"></a>14.mysql 常用命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">查看mysql是否启动：service mysqld status</span><br><span class="line"></span><br><span class="line">启动mysql：service mysqld start</span><br><span class="line"></span><br><span class="line">停止mysql：service mysqld stop</span><br><span class="line"></span><br><span class="line">重启mysql：service mysqld restart</span><br></pre></td></tr></table></figure>

<h3 id="15-mysql-的其他常用命令"><a href="#15-mysql-的其他常用命令" class="headerlink" title="15.mysql 的其他常用命令"></a>15.mysql 的其他常用命令</h3><ul>
<li>首先，如果我们想断开客户端与服务器的连接并且关闭客户端的话，可以在 mysql&gt;提示符后输入如下任意一个命令</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">quit</span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">\q</span><br></pre></td></tr></table></figure>

<p>大多数情况下我们执行的是一些普通 SQL，这些 SQL 往往需要以**;**分号结束，比如我查询当前的时间：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;mysql: select now();</span><br></pre></td></tr></table></figure>

<h3 id="16-mysql-服务器常用命令"><a href="#16-mysql-服务器常用命令" class="headerlink" title="16.mysql 服务器常用命令"></a>16.mysql 服务器常用命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld start/stop/status/restart</span><br></pre></td></tr></table></figure>

<p>mysql 基本命令<a href="https://bythewayer.com/learn/server/DataBase/1">mySql</a></p>
</div></article><div class="copyright-wrapper"><p>原文作者:<a href="https://bythewayer.com">Niaogege</a></p><p>原文链接:<a href="https://bythewayer.com/2022/12/29/centos%20install%20mysql/">centos安装mysql@5.7.40</a></p><p>发表日期: 2022-12-29 15:14:51</p><p>更新日期: 2023-04-05 17:40:33</p><p>版权声明: 本文采用<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p></div><div class="post-pager"><div class="prev"><a href="/2023/01/03/Where-is-the-personal-value-of-front-end-engineers-%E8%BD%AC%E8%BD%BD/" title="Where is the personal value of front-end engineers(转载)">上一篇 Where is the personal value of front-end engineers(转载)</a></div><div class="next"> <a href="/2022/12/28/docker-and-FE/" title="docker and FE">下一篇 docker and FE</a></div></div><link rel="stylesheet" href="https://cdn.staticfile.org/gitalk/1.7.2/gitalk.min.css"/><script src="https://cdn.staticfile.org/gitalk/1.7.2/gitalk.min.js"></script><div id="gitalk-container"></div><script>new Gitalk({
  clientID: '14358f21bfa09660100b',
  clientSecret: '96f34217eea90602cb5b142eb89508898354754c',
  repo: 'blog-comment',
  owner: 'niaogege',
  admin: 'niaogege',
  id: location.pathname.substr(0, 48),
  distractionFreeMode: true,
  labels: ['Gitalk'],
  title: 'centos安装mysql@5.7.40',
}).render('gitalk-container');</script></section></section></main><footer class="footer-page"><div><span>Powered by</span><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">苏ICP备2021048304号-1</a><span>| Theme</span><a target="_blank" rel="noopener" href="https://github.com/techmovie/hexo-theme-instapaper">instapaper</a><span>| Hexo </span><a target="_blank" rel="noopener" href="https://hexo.io/"></a></div></footer><script src="/scripts/dark.js"></script><script src="/scripts/post.js"></script></body></html>